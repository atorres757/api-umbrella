{{apis/rewrite-form model=rewriteModel collection=model.rewrites openModal=openModal}}

<table id="rewrites_table" class="table table-striped table-condensed">
  <thead>
    <tr>
      <th style="width: 110px;">Matching Type</th>
      <th style="width: 110px;">HTTP Method</th>
      <th>From</th>
      <th>To</th>
      <th></th>
      <th class="reorder-handle"></th>
    </tr>
  </thead>
  <tbody>
    {{#if model.rewrites}}
      {{#each model.rewrites as |rewrite|}}
        <tr data-guid="{{guid-for rewrite}}">
          <td>{{rewrite.matcherType}}</td>
          <td>{{rewrite.httpMethod}}</td>
          <td>{{rewrite.frontendMatcher}}</td>
          <td>{{rewrite.backendReplacement}}</td>
          <td class="table-row-actions">
            <a href="#" {{action "edit" rewrite}}><i class="fa fa-pencil"></i>{{t "admin.edit"}}</a>
            <a href="#" class="remove-action" {{action "remove" rewrite}}><i class="fa fa-times"></i>{{t "admin.remove"}}</a>
          </td>
          <td class="reorder-handle"><i class="fa fa-reorder"></i></td>
        </tr>
      {{/each}}
    {{else}}
      <tr class="empty"><td colspan="6">{{t "admin.api.rewrites.empty_list" add=(t "admin.api.rewrites.add")}}</td></tr>
    {{/if}}
  </tbody>
</table>
<div class="row-fluid">
  <div class="span6">
    <button type="button" class="btn btn-default btn-xs" {{action "add"}}><i class="fa fa-plus-circle"></i> {{t "admin.api.rewrites.add"}}</button>
  </div>
  <div class="span6 text-right">
    {{#if isReorderable}}
      <button type="button" id="rewrites_reorder" class="btn btn-default btn-xs" {{action "reorderCollection" "rewrites"}}><i class="fa fa-reorder"></i> <span class="reorder-button-text">{{t "admin.reorder"}}</span></button>
    {{/if}}
  </div>
</div>
